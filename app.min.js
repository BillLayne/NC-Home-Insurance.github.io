document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".navbar-menu");e&&t&&(e.addEventListener("click",function(){t.classList.toggle("active"),e.classList.toggle("active")}),document.addEventListener("click",function(n){n.target.closest(".navbar-content")||(t.classList.remove("active"),e.classList.remove("active"))}));document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(n){const o=this.getAttribute("href");if(o&&"#"!==o&&o.length>1){const i=document.querySelector(o);if(i){n.preventDefault();const o=i.offsetTop-80;window.scrollTo({top:o,behavior:"smooth"}),t&&t.classList.contains("active")&&(t.classList.remove("active"),e.classList.remove("active"))}}})});document.querySelectorAll(".copy-btn").forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-phone");if(e){const t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy"),n(`Phone number ${function(e){if(10===e.length)return`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6)}`;if(3===e.length)return e;return e}(e)} copied to clipboard!`);const t=this.textContent;this.textContent="Copied!",this.style.background="var(--color-success)",this.style.color="white",setTimeout(()=>{this.textContent=t,this.style.background="",this.style.color=""},2e3)}catch(e){n("Failed to copy phone number. Please copy manually.","error")}document.body.removeChild(t)}})});function n(e,t="success"){const n=document.getElementById("notification"),o=document.getElementById("notification-text");n&&o&&(o.textContent=e,n.style.background="error"===t?"var(--color-error)":"var(--color-success)",n.classList.add("show"),setTimeout(()=>{n.classList.remove("show")},3e3))}document.querySelectorAll(".emergency-call-btn").forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-phone");e&&(window.location.href=`tel:${e}`)})});document.querySelectorAll(".phone-number span, .emergency-number span").forEach(e=>{const t=e.textContent.trim().match(/(\d{3}[-.\s]?\d{3}[-.\s]?\d{4}|\d{3})/);if(t&&t[1]){const n=t[1].replace(/[-.\s]/g,"");e.style.cursor="pointer",e.style.textDecoration="underline",e.title="Click to call",e.addEventListener("click",function(){window.location.href=`tel:${n}`})}});const o=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".step-card").forEach((e,t)=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition=`opacity 0.6s ease ${.1*t}s, transform 0.6s ease ${.1*t}s`,o.observe(e)});let i;document.querySelectorAll(".company-card").forEach(e=>{e.addEventListener("mouseenter",function(){this.style.transform="translateY(-4px) scale(1.02)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0) scale(1)"})}),document.addEventListener("keydown",function(n){if("Escape"===n.key&&t&&t.classList.contains("active")&&(t.classList.remove("active"),e.classList.remove("active")),"c"===n.key&&n.ctrlKey&&n.shiftKey){const e=document.querySelector(".copy-btn[data-phone]");e&&e.click()}}),window.innerWidth>768&&function(){const e=document.createElement("button");e.textContent="🖨️ Print Guide",e.className="btn btn--outline",e.style.position="fixed",e.style.bottom="20px",e.style.right="20px",e.style.zIndex="1000",e.title="Print this guide",e.addEventListener("click",function(){window.print()}),document.body.appendChild(e)}(),window.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(function(){window.innerWidth>768&&t&&t.classList.contains("active")&&(t.classList.remove("active"),e.classList.remove("active"))},250)});const c=document.querySelectorAll(".faq-question");let s;c.forEach(e=>{e.addEventListener("click",function(){const e="true"===this.getAttribute("aria-expanded");c.forEach(e=>{e!==this&&e.setAttribute("aria-expanded","false")}),this.setAttribute("aria-expanded",!e),E("faq-toggle",this.querySelector("span").textContent)}),e.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click())})}),s=document.createElement("button"),s.innerHTML="↑",s.className="scroll-to-top",s.style.cssText="\n            position: fixed;\n            bottom: 80px;\n            right: 20px;\n            width: 50px;\n            height: 50px;\n            border-radius: 50%;\n            background: var(--color-primary);\n            color: white;\n            border: none;\n            font-size: 20px;\n            cursor: pointer;\n            opacity: 0;\n            visibility: hidden;\n            transition: all 0.3s ease;\n            z-index: 1000;\n        ",s.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),document.body.appendChild(s),window.addEventListener("scroll",function(){window.pageYOffset>300?(s.style.opacity="1",s.style.visibility="visible"):(s.style.opacity="0",s.style.visibility="hidden")}),function(){const e=document.createElement("a");e.href="#main-content",e.textContent="Skip to main content",e.className="sr-only",e.style.cssText="\n            position: absolute;\n            top: -40px;\n            left: 6px;\n            background: var(--color-primary);\n            color: white;\n            padding: 8px;\n            text-decoration: none;\n            border-radius: 4px;\n            z-index: 10000;\n        ",e.addEventListener("focus",function(){this.style.top="6px"}),e.addEventListener("blur",function(){this.style.top="-40px"}),document.body.insertBefore(e,document.body.firstChild);const t=document.querySelector(".hero");t&&(t.id="main-content"),document.querySelectorAll("button").forEach(e=>{e.getAttribute("aria-label")||e.textContent.trim()||e.setAttribute("aria-label","Button")}),document.querySelectorAll(".step-card, .company-card, .resource-card").forEach(e=>{e.setAttribute("role","article")})}();t&&t.addEventListener("keydown",function(e){this.classList.contains("active")&&"Tab"===e.key&&function(e){const t=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=t[0],o=t[t.length-1];e.addEventListener("keydown",function(e){"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(o.focus(),e.preventDefault()):document.activeElement===o&&(n.focus(),e.preventDefault()))})}(this)});let a=!1;function r(){a=!1}if(window.addEventListener("scroll",function(){a||(requestAnimationFrame(r),a=!0)}),"undefined"==typeof homeInsuranceSearchData){const b=document.getElementById("searchInput"),L=document.querySelector(".search-btn"),C=document.getElementById("searchResults"),x=[{title:"State Farm",desc:"📞 800-732-5246 - 24/7 Claims Support",type:"company",phone:"8007325246"},{title:"GEICO",desc:"📞 800-861-8380 - 24/7 Claims Support",type:"company",phone:"8008618380"},{title:"Allstate",desc:"📞 800-255-7828 - 24/7 Claims Support",type:"company",phone:"8002557828"},{title:"Nationwide",desc:"📞 800-421-3535 - 24/7 Claims Support",type:"company",phone:"8004213535"},{title:"Progressive",desc:"📞 800-776-4737 - 24/7 Claims Support",type:"company",phone:"8007764737"},{title:"Travelers",desc:"📞 800-252-4633 - 24/7 Claims Support",type:"company",phone:"8002524633"},{title:"USAA",desc:"📞 800-531-8722 - 24/7 Claims Support",type:"company",phone:"8005318722"},{title:"Farmers",desc:"📞 800-435-7764 - 24/7 Claims Support",type:"company",phone:"8004357764"},{title:"Erie Insurance",desc:"📞 800-367-3743 - 24/7 Claims Support",type:"company",phone:"8003673743"},{title:"NC Farm Bureau",desc:"Contact Local Agent - Business Hours",type:"company"},{title:"Auto-Owners",desc:"Contact Local Agent - Business Hours",type:"company"},{title:"Auto Claims Process",desc:"Step-by-step guide for filing auto insurance claims",type:"topic",section:"#auto-claims"},{title:"Home Claims Process",desc:"Step-by-step guide for filing home insurance claims",type:"topic",section:"#home-claims"},{title:"NC Minimum Coverage",desc:"50/100/50 - Bodily Injury and Property Damage requirements",type:"topic",section:"#resources"},{title:"NC Insurance Points Calculator",desc:"Calculate how violations affect your insurance rates",type:"topic",section:"#points-system"},{title:"Car Value Finder",desc:"Find your car's Kelley Blue Book value instantly",type:"topic",section:"#car-value"},{title:"Emergency Contacts",desc:"911 Emergency Services, NC State Highway Patrol",type:"topic",section:"#emergency"},{title:"Accident Reports",desc:"NC State Highway Patrol online accident reports",type:"topic",section:"#resources"},{title:"Tips and Preparation",desc:"What to keep in your car and important documents",type:"topic",section:".tips-section"},{title:"FAQ",desc:"Frequently asked questions about insurance claims",type:"topic",section:"#faq"}];function l(e){if(!e||e.length<2)return void C.classList.remove("active");const t=x.filter(t=>`${t.title} ${t.desc}`.toLowerCase().includes(e.toLowerCase()));t.length>0?function(e){C.innerHTML="",e.forEach(e=>{const t=document.createElement("div");t.className="search-result-item",t.innerHTML=`\n                <div class="search-result-title">${e.title}</div>\n                <div class="search-result-desc">${e.desc}</div>\n            `,t.addEventListener("click",()=>{if("company"===e.type&&e.phone){const t=document.createElement("input");t.value=e.phone,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),n(`${e.title} phone number copied!`),C.classList.remove("active"),b.value=""}else if("topic"===e.type&&e.section){const t=document.querySelector(e.section);t&&(t.scrollIntoView({behavior:"smooth",block:"start"}),C.classList.remove("active"),b.value="")}}),C.appendChild(t)}),C.classList.add("active")}(t):(C.innerHTML='\n            <div class="search-result-item">\n                <div class="search-result-title">No results found</div>\n                <div class="search-result-desc">Try searching for insurance company names or topics like "auto claims"</div>\n            </div>\n        ',C.classList.add("active"))}b&&(b.addEventListener("input",e=>{l(e.target.value)}),b.addEventListener("keypress",e=>{"Enter"===e.key&&(e.preventDefault(),l(e.target.value))}),document.addEventListener("click",e=>{e.target.closest(".search-wrapper")||C.classList.remove("active")})),L&&L.addEventListener("click",()=>{l(b.value)})}const d={0:0,1:30,2:45,3:60,4:80,5:110,6:135,7:165,8:195,9:225,10:260,11:295,12:340},u=document.getElementById("points-calculator-form");function m(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function p(){const e=parseFloat(document.getElementById("current-premium").value),t=document.getElementById("violation-type"),n=t.options[t.selectedIndex];if(!e||!t.value)return;const o=parseInt(t.value),i=n.text,c=d[o]||0,s=e*c/100,a=e+s;document.getElementById("violation-name").textContent=i,document.getElementById("points-value").textContent=o,document.getElementById("increase-percentage").textContent=c+"%",document.getElementById("annual-increase").textContent=m(s),document.getElementById("new-premium").textContent=m(a);const r=document.getElementById("impact-fill"),l=document.getElementById("impact-percentage"),u=Math.min(c/340*100,100),p=document.getElementById("results");p.classList.add("show"),setTimeout(()=>{r.style.width=u+"%",l.textContent=c+"%"},100),p.scrollIntoView({behavior:"smooth",block:"center"})}u&&u.addEventListener("submit",function(e){e.preventDefault(),p()});const y=document.getElementById("current-premium");y&&y.addEventListener("blur",function(){if(this.value){const e=parseFloat(this.value);isNaN(e)||(this.value=e.toFixed(2))}});const v=document.getElementById("violation-type");v&&v.addEventListener("change",function(){document.getElementById("current-premium").value&&this.value&&p()});const h=document.getElementById("carValueForm");h&&h.addEventListener("submit",function(e){e.preventDefault();const t=document.getElementById("year").value,o=document.getElementById("make").value,i=document.getElementById("model").value.trim(),c=`https://www.kbb.com/${o.toLowerCase().replace(/ /g,"-")}/${i.toLowerCase().replace(/ /g,"-")}/${t}/`;window.open(c,"_blank","noopener,noreferrer"),n("Opening Kelley Blue Book for your vehicle valuation...","success")});const f=document.getElementById("model");f&&f.addEventListener("input",function(){this.value=this.value.replace(/[^a-zA-Z0-9\s-]/g,"")});const g=document.getElementById("zipcode");function E(e,t){console.log(`User interaction: ${e} on ${t}`)}g&&g.addEventListener("input",function(){this.value=this.value.replace(/\D/g,""),this.value.length>5&&(this.value=this.value.slice(0,5))}),console.log("NC Insurance Claims Guide loaded successfully"),document.addEventListener("click",function(e){e.target.matches("button, .btn")&&E("click",e.target.textContent||e.target.className)})}),"serviceWorker"in navigator&&window.addEventListener("load",function(){});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".navbar-menu"),n=document.body;function c(s){void 0===s&&(s=!t.classList.contains("active")),s?(t.classList.add("active"),e.classList.add("active"),n.classList.add("menu-open"),function(){if(!document.querySelector(".menu-overlay")){const e=document.createElement("div");e.className="menu-overlay",e.addEventListener("click",()=>c(!1)),n.appendChild(e),setTimeout(()=>e.classList.add("active"),10)}}()):(t.classList.remove("active"),e.classList.remove("active"),n.classList.remove("menu-open"),function(){const e=document.querySelector(".menu-overlay");e&&(e.classList.remove("active"),setTimeout(()=>e.remove(),300))}())}"ontouchstart"in window&&n.classList.add("touch-device"),e&&e.addEventListener("click",function(e){e.stopPropagation(),c()});let s=0,i=0;document.addEventListener("touchstart",function(e){s=e.changedTouches[0].screenX},{passive:!0}),document.addEventListener("touchend",function(e){i=e.changedTouches[0].screenX,function(){const e=50,n=s-i;n>e&&t.classList.contains("active")?c(!1):n<-e&&s<50&&c(!0)}()},{passive:!0});document.querySelectorAll("button, a, .btn, input, select, textarea").forEach(e=>{const t=e.getBoundingClientRect();(t.height<44||t.width<44)&&(e.style.minHeight="44px",e.style.minWidth="44px",e.style.display="inline-flex",e.style.alignItems="center",e.style.justifyContent="center")});document.querySelectorAll(".btn, button").forEach(e=>{e.addEventListener("click",function(e){const t=document.createElement("span");t.className="ripple";const n=this.getBoundingClientRect(),c=Math.max(n.width,n.height),s=e.clientX-n.left-c/2,i=e.clientY-n.top-c/2;t.style.width=t.style.height=c+"px",t.style.left=s+"px",t.style.top=i+"px",this.appendChild(t),setTimeout(()=>t.remove(),600)})});if(document.querySelectorAll("input, select, textarea").forEach(e=>{e.addEventListener("focus",function(){setTimeout(()=>{this.scrollIntoView({behavior:"smooth",block:"center"})},300)})}),window.innerWidth<=768){const e=document.createElement("a");e.href="tel:3368351993",e.className="floating-call-btn",e.innerHTML="📞",e.setAttribute("aria-label","Call 336-835-1993"),n.appendChild(e);let t=0;window.addEventListener("scroll",function(){const n=window.pageYOffset||document.documentElement.scrollTop;n>t&&n>100?e.classList.add("hidden"):e.classList.remove("hidden"),t=n<=0?0:n},{passive:!0})}document.querySelectorAll("img").forEach(e=>{if(e.loading||(e.loading="lazy"),e.src&&!e.srcset){const t=e.src;e.srcset=`${t} 1x, ${t} 2x`}})});