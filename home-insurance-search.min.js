window.homeInsuranceSearchData=!0,document.addEventListener("DOMContentLoaded",function(){const e=[{title:"Dwelling Coverage",desc:"Protects your home structure from covered perils like fire, wind, and hail",type:"coverage",section:"#coverage",keywords:["house","structure","building","roof","walls","foundation"]},{title:"Personal Property Coverage",desc:"Covers your belongings inside the home - furniture, electronics, clothing",type:"coverage",section:"#coverage",keywords:["belongings","contents","furniture","clothes","electronics","items"]},{title:"Liability Protection",desc:"Protects you if someone is injured on your property or you damage others property",type:"coverage",section:"#coverage",keywords:["lawsuit","injury","accident","legal","medical bills"]},{title:"Additional Living Expenses (ALE)",desc:"Covers hotel and living costs if your home is uninhabitable after a claim",type:"coverage",section:"#coverage",keywords:["hotel","temporary housing","displacement","living costs"]},{title:"Other Structures Coverage",desc:"Protects detached structures like garages, sheds, and fences",type:"coverage",section:"#coverage",keywords:["garage","shed","fence","detached","pool house"]},{title:"Fire and Smoke Damage",desc:"Coverage for damage from fires and smoke",type:"peril",section:".covered-perils",keywords:["fire","smoke","burning","flames"]},{title:"Wind and Hail Damage",desc:"Protection from windstorms and hail damage",type:"peril",section:".covered-perils",keywords:["wind","hail","storm","hurricane","tornado"]},{title:"Water Damage",desc:"Coverage for sudden water damage (not floods)",type:"peril",section:".covered-perils",keywords:["water","pipe burst","leak","plumbing"]},{title:"Theft and Vandalism",desc:"Protection against theft and malicious damage",type:"peril",section:".covered-perils",keywords:["theft","stolen","burglary","vandalism","break-in"]},{title:"Hurricane Coverage in NC",desc:"Special considerations for hurricane damage in North Carolina",type:"nc-specific",section:".nc-specific",keywords:["hurricane","coastal","wind","storm surge","deductible"]},{title:"Flood Insurance",desc:"Separate flood insurance requirements in NC",type:"nc-specific",section:".nc-specific",keywords:["flood","flooding","water damage","FEMA","flood zone"]},{title:"Earthquake Coverage",desc:"Optional earthquake coverage for NC homeowners",type:"nc-specific",section:".nc-specific",keywords:["earthquake","tremor","seismic","ground movement"]},{title:"Home Security Discount",desc:"Save 5-20% with security systems and smart home devices",type:"discount",section:".agency-difference",keywords:["security","alarm","camera","smart home","discount"]},{title:"Multi-Policy Discount",desc:"Bundle home and auto insurance for savings",type:"discount",section:".agency-difference",keywords:["bundle","multi-policy","auto","discount","save"]},{title:"Claims-Free Discount",desc:"Save money with no recent claims",type:"discount",section:".agency-difference",keywords:["claims-free","no claims","discount","history"]},{title:"New Home Discount",desc:"Discounts for newer homes (typically under 10 years)",type:"discount",section:".agency-difference",keywords:["new home","new construction","recent","discount"]},{title:"How Much Coverage Do I Need?",desc:"Calculate the right amount of dwelling coverage for your home",type:"faq",section:".insurance-calculator",keywords:["how much","coverage amount","calculate","value"]},{title:"What is Replacement Cost?",desc:"Understanding replacement cost vs actual cash value",type:"faq",section:".faq-section",keywords:["replacement cost","actual cash value","RCV","ACV"]},{title:"Deductible Options",desc:"Choosing the right deductible for your budget",type:"faq",section:".faq-section",keywords:["deductible","out of pocket","cost","payment"]},{title:"Get a Home Insurance Quote",desc:"Free instant quotes from Bill Layne Insurance - Call (336) 835-1993",type:"action",section:".final-cta",keywords:["quote","price","cost","estimate","free quote"],phone:"3368351993"},{title:"Bill Layne Insurance Agency",desc:"Local NC insurance expert serving Elkin and surrounding areas since 2004",type:"contact",section:".meet-bill",keywords:["Bill Layne","agent","local","Elkin","contact"]},{title:"Emergency Resources",desc:"Important contacts for emergencies and claims",type:"resource",section:".emergency-resources",keywords:["emergency","911","fire department","police"]},{title:"Home Insurance Calculator",desc:"Estimate your home insurance costs",type:"tool",section:".insurance-calculator",keywords:["calculator","estimate","cost","price"]},{title:"Coverage Review",desc:"Free coverage review to ensure adequate protection",type:"service",section:".agency-difference",keywords:["review","coverage review","evaluation","assessment"]}],t=document.getElementById("searchInput"),n=document.querySelector(".search-btn"),o=document.getElementById("searchResults");function r(n){if(console.log("Search triggered with query:",n),!n||n.length<2)return o.innerHTML="",void o.classList.remove("active");const r=n.toLowerCase(),i=r.split(" ").filter(e=>e.length>0),c=e.map(e=>{let t=0;return`${e.title} ${e.desc} ${(e.keywords||[]).join(" ")}`.toLowerCase().includes(r)&&(t+=10),i.forEach(n=>{e.title.toLowerCase().includes(n)&&(t+=5),e.desc.toLowerCase().includes(n)&&(t+=3),e.keywords&&e.keywords.some(e=>e.includes(n))&&(t+=2)}),{...e,score:t}}).filter(e=>e.score>0).sort((e,t)=>t.score-e.score).slice(0,10);c.length>0?function(e){o.innerHTML="";const n=e.reduce((e,t)=>(e[t.type]||(e[t.type]=[]),e[t.type].push(t),e),{});Object.entries(n).forEach(([e,n])=>{const r=function(e){return{coverage:"üìã Coverage Types",peril:"‚ö†Ô∏è Covered Perils","nc-specific":"üèõÔ∏è North Carolina Specific",discount:"üí∞ Discounts",faq:"‚ùì Common Questions",action:"üìû Get Quote",contact:"üë§ Contact",resource:"üö® Resources",tool:"üßÆ Tools",service:"‚úÖ Services"}[e]||"üìå Other"}(e),i=document.createElement("div");i.className="search-group-header",i.innerHTML=`<strong>${r}</strong>`,o.appendChild(i),n.forEach(e=>{const n=document.createElement("div");n.className="search-result-item",n.innerHTML=`\n                    <div class="search-result-title">${s(e.title,t.value)}</div>\n                    <div class="search-result-desc">${s(e.desc,t.value)}</div>\n                `,n.addEventListener("click",()=>{!function(e){if(e.phone)!function(e){const t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(e.phone),function(e){let t=document.getElementById("notification");t?document.getElementById("notification-text").textContent=e:(t=document.createElement("div"),t.id="notification",t.style.cssText="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                background: var(--color-success, #10b981);\n                color: white;\n                padding: 1rem 1.5rem;\n                border-radius: 8px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                z-index: 10000;\n                transform: translateX(400px);\n                transition: transform 0.3s ease;\n            ",t.innerHTML=`<span id="notification-text">${e}</span>`,document.body.appendChild(t));setTimeout(()=>{t.style.transform="translateX(0)"},10),setTimeout(()=>{t.style.transform="translateX(400px)"},3e3)}(`Phone number copied: ${function(e){if(10===e.length)return`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6)}`;return e}(e.phone)}`);else if(e.section){const n=document.querySelector(e.section);n&&(n.scrollIntoView({behavior:"smooth",block:"start"}),t.value="",o.classList.remove("active"))}}(e)}),o.appendChild(n)})}),o.classList.add("active")}(c):(o.innerHTML='\n            <div class="search-result-item">\n                <div class="search-result-title">No results found</div>\n                <div class="search-result-desc">Try searching for: coverage types, discounts, hurricane insurance, or "get quote"</div>\n            </div>\n            <div class="search-result-item" onclick="document.getElementById(\'searchInput\').value=\'coverage\'; document.getElementById(\'searchInput\').dispatchEvent(new Event(\'input\'));">\n                <div class="search-result-title">üí° Suggested: Coverage Types</div>\n                <div class="search-result-desc">Learn about dwelling, personal property, and liability coverage</div>\n            </div>\n            <div class="search-result-item" onclick="window.location.href=\'tel:3368351993\'">\n                <div class="search-result-title">üìû Call for Help</div>\n                <div class="search-result-desc">Speak with Bill Layne directly at (336) 835-1993</div>\n            </div>\n        ',o.classList.add("active"))}function s(e,t){if(!t)return e;const n=new RegExp(`(${o=t,o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");var o;return e.replace(n,"<mark>$1</mark>")}if(console.log("Search elements found:",{searchInput:!!t,searchBtn:!!n,searchResults:!!o}),t?(console.log("Adding search event listeners..."),t.addEventListener("input",e=>{r(e.target.value)}),t.addEventListener("keypress",e=>{"Enter"===e.key&&(e.preventDefault(),r(e.target.value))}),t.addEventListener("keydown",e=>{"Escape"===e.key&&(t.value="",o.classList.remove("active"))})):console.error("Search input element not found!"),n&&n.addEventListener("click",()=>{r(t.value)}),document.addEventListener("click",e=>{e.target.closest(".search-section")||o.classList.remove("active")}),!document.querySelector("#search-styles")){const e=document.createElement("style");e.id="search-styles",e.textContent="\n            .search-results {\n                position: absolute;\n                top: 100%;\n                left: 0;\n                right: 0;\n                background: white;\n                border-radius: 12px;\n                box-shadow: 0 10px 40px rgba(0,0,0,0.1);\n                max-height: 400px;\n                overflow-y: auto;\n                display: none;\n                z-index: 1000;\n                margin-top: 8px;\n            }\n            \n            .search-results.active {\n                display: block;\n            }\n            \n            .search-group-header {\n                padding: 12px 16px 8px;\n                color: var(--color-text-secondary);\n                font-size: 0.875rem;\n                border-bottom: 1px solid var(--color-border-light);\n            }\n            \n            .search-result-item {\n                padding: 12px 16px;\n                cursor: pointer;\n                transition: background-color 0.2s;\n                border-bottom: 1px solid var(--color-border-light);\n            }\n            \n            .search-result-item:hover {\n                background-color: var(--color-surface);\n            }\n            \n            .search-result-item:last-child {\n                border-bottom: none;\n            }\n            \n            .search-result-title {\n                font-weight: 600;\n                color: var(--color-text);\n                margin-bottom: 4px;\n            }\n            \n            .search-result-desc {\n                font-size: 0.875rem;\n                color: var(--color-text-secondary);\n            }\n            \n            .search-result-item mark {\n                background-color: #fef3c7;\n                color: inherit;\n                font-weight: 600;\n                padding: 0 2px;\n                border-radius: 2px;\n            }\n            \n            .search-wrapper {\n                position: relative;\n            }\n            \n            @media (max-width: 768px) {\n                .search-results {\n                    position: fixed;\n                    top: auto;\n                    bottom: 0;\n                    left: 0;\n                    right: 0;\n                    max-height: 70vh;\n                    border-radius: 24px 24px 0 0;\n                    margin-top: 0;\n                }\n            }\n        ",document.head.appendChild(e)}console.log("Home Insurance Search initialized successfully"),document.querySelectorAll(".email-link").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("data-user")+"@"+this.getAttribute("data-domain");window.location.href="mailto:"+t}),e.addEventListener("mouseenter",function(){const e=this.getAttribute("data-user"),t=this.getAttribute("data-domain");this.textContent=e+"@"+t}),e.addEventListener("mouseleave",function(){this.textContent="Contact Email"})})});